<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 채용공고  자소서 -->
<mapper namespace="mapper.workb-mapper">
	<!-- 채용공고  리스트 -->
	<select id="workbListData" resultType="WorkBVO" parameterType="hashmap">
		SELECT l_no,lname,ltitle,lapp_qual1,lapp_qual2,lapp_con,ldeadline,lsal,lworkspace,num
		FROM (SELECT l_no,lname,ltitle,lapp_qual1,lapp_qual2,lapp_con,ldeadline,lsal,lworkspace,rownum as num
		FROM (SELECT l_no,lname,ltitle,lapp_qual1,lapp_qual2,lapp_con,ldeadline,lsal,lworkspace
		FROM saramin_emp ORDER BY l_no DESC))
		WHERE num BETWEEN #{start} AND #{end}
	</select>
	
	<!-- 채용공고 리스트 총페이지 -->
	<select id="workbTotalPage" resultType="int">
   		SELECT CEIL(COUNT(*)/10.0) FROM saramin_emp
  	</select>
  	
  	<!-- 채용공고 상세보기 -->
  	<select id="workbDetailData" resultType="WorkBVO" parameterType="int">
		SELECT l_no,lcateno,lname,ltitle,lapp_qual1,lapp_qual2,lapp_con,ldeadline,lsal,lworkspace,num
		FROM (SELECT l_no,lcateno,lname,ltitle,lapp_qual1,lapp_qual2,lapp_con,ldeadline,lsal,lworkspace,rownum as num
		FROM (SELECT l_no,lcateno,lname,ltitle,lapp_qual1,lapp_qual2,lapp_con,ldeadline,lsal,lworkspace
		FROM saramin_emp ORDER BY l_no DESC))
		WHERE num BETWEEN #{start} AND #{end}
		<!-- SELECT * FROM saramin_emp
		WHERE l_no=#{l_no } -->
	</select>
</mapper>